2025-07-17 12:25:43 | INFO     | ----- New Request Received -----
2025-07-17 12:25:43 | INFO     | Request is valid.
2025-07-17 12:25:43 | ERROR    | 'AnalysisRequest' object has no attribute 'generate_pdf'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode, req.generate_pdf)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/pydantic/main.py", line 761, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'AnalysisRequest' object has no attribute 'generate_pdf'
2025-07-17 12:26:12 | INFO     | ----- New Request Received -----
2025-07-17 12:26:12 | INFO     | Request is valid.
2025-07-17 12:26:12 | INFO     | Running rule based static analytics.
2025-07-17 12:26:12 | INFO     | Derived metrics computation complete.
2025-07-17 12:27:07 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 126, in generate_weights_using_llm
    user_message = self.format_any_prompt_template(WEIGHTS_GEN_USER_MSG, personal_data=personal_data)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 116, in get_model_response
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:27:07 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 126, in generate_weights_using_llm
    user_message = self.format_any_prompt_template(WEIGHTS_GEN_USER_MSG, personal_data=personal_data)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 116, in get_model_response
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:29:21 | INFO     | ----- New Request Received -----
2025-07-17 12:29:21 | INFO     | Request is valid.
2025-07-17 12:29:21 | INFO     | Running rule based static analytics.
2025-07-17 12:29:21 | INFO     | Derived metrics computation complete.
2025-07-17 12:29:21 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:29:24 | INFO     | Together.ai response failed for 'LG_Exaone_3.5_Instruct', switching to 'Llama_3.3_Instruct_Turbo'.
2025-07-17 12:29:24 | INFO     | Attempting response with model: Llama_3.3_Instruct_Turbo.
2025-07-17 12:29:37 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 129, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 119, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:29:37 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 129, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 119, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:29:55 | INFO     | ----- New Request Received -----
2025-07-17 12:29:55 | INFO     | Request is valid.
2025-07-17 12:29:55 | INFO     | Running rule based static analytics.
2025-07-17 12:29:55 | INFO     | Derived metrics computation complete.
2025-07-17 12:29:55 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:29:57 | ERROR    | Together.ai response failed for 'LG_Exaone_3.5_Instruct', switching to 'Llama_3.3_Instruct_Turbo'.
2025-07-17 12:29:57 | ERROR    | 2 validation errors for LLMResponse
metadata.response_time
  Input should be a valid integer, got a number with a fractional part [type=int_from_float, input_value=2.6215, input_type=float]
    For further information visit https://errors.pydantic.dev/2.5/v/int_from_float
metadata.token_usage
  Input should be a valid integer [type=int_type, input_value={'input_tokens': 371, 'ou...80, 'total_tokens': 551}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/int_type
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 106, in get_model_response
    return await self._get_llm_response(system_message, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 87, in _get_llm_response
    return LLMResponse(content=parsed, metadata=metadata)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for LLMResponse
metadata.response_time
  Input should be a valid integer, got a number with a fractional part [type=int_from_float, input_value=2.6215, input_type=float]
    For further information visit https://errors.pydantic.dev/2.5/v/int_from_float
metadata.token_usage
  Input should be a valid integer [type=int_type, input_value={'input_tokens': 371, 'ou...80, 'total_tokens': 551}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/int_type
2025-07-17 12:29:57 | INFO     | Attempting response with model: Llama_3.3_Instruct_Turbo.
2025-07-17 12:30:17 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 130, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 120, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:30:17 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 130, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 120, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:31:01 | INFO     | ----- New Request Received -----
2025-07-17 12:31:01 | INFO     | Request is valid.
2025-07-17 12:31:01 | INFO     | Running rule based static analytics.
2025-07-17 12:31:01 | INFO     | Derived metrics computation complete.
2025-07-17 12:31:01 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:31:04 | ERROR    | Together.ai response failed for 'LG_Exaone_3.5_Instruct', switching to 'Llama_3.3_Instruct_Turbo'.
2025-07-17 12:31:04 | ERROR    | 1 validation error for LLMResponse
metadata.token_usage
  Input should be a valid number [type=float_type, input_value={'input_tokens': 371, 'ou...79, 'total_tokens': 550}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/float_type
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 106, in get_model_response
    return await self._get_llm_response(system_message, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 87, in _get_llm_response
    return LLMResponse(content=parsed, metadata=metadata)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for LLMResponse
metadata.token_usage
  Input should be a valid number [type=float_type, input_value={'input_tokens': 371, 'ou...79, 'total_tokens': 550}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/float_type
2025-07-17 12:31:04 | INFO     | Attempting response with model: Llama_3.3_Instruct_Turbo.
2025-07-17 12:31:11 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 130, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 120, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:31:11 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 47, in assemble_report_data_rule_based
    weights_gen_response = await llm.generate_weights_using_llm(personal_data_str)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 130, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 120, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 12:32:11 | INFO     | ----- New Request Received -----
2025-07-17 12:32:11 | INFO     | Request is valid.
2025-07-17 12:32:11 | INFO     | Running rule based static analytics.
2025-07-17 12:32:11 | INFO     | Derived metrics computation complete.
2025-07-17 12:32:11 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:32:14 | INFO     | Received weights from LLM successfully.
2025-07-17 12:32:14 | INFO     | Weights assigned successfully.
2025-07-17 12:32:14 | ERROR    | FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 36, in analyse
    commendable_points, improvement_points = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 181, in _generate_feedbacks
    good_points: List[CommendablePoint] = self._generate_commendable_points(derived_metrics, good_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 214, in _generate_commendable_points
    feedback = self._create_commend_point(metric_data)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 224, in _create_commend_point
    formatted = self._get_formatted_commend_point(metric, min_b, max_b)
TypeError: FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
2025-07-17 12:32:14 | ERROR    | FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 36, in analyse
    commendable_points, improvement_points = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 181, in _generate_feedbacks
    good_points: List[CommendablePoint] = self._generate_commendable_points(derived_metrics, good_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 214, in _generate_commendable_points
    feedback = self._create_commend_point(metric_data)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 224, in _create_commend_point
    formatted = self._get_formatted_commend_point(metric, min_b, max_b)
TypeError: FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
2025-07-17 12:41:57 | INFO     | ----- New Request Received -----
2025-07-17 12:41:57 | INFO     | Request is valid.
2025-07-17 12:41:57 | INFO     | Running rule based static analytics.
2025-07-17 12:41:57 | INFO     | Derived metrics computation complete.
2025-07-17 12:41:57 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:41:59 | INFO     | Received weights from LLM successfully.
2025-07-17 12:41:59 | INFO     | Weights assigned successfully.
2025-07-17 12:41:59 | ERROR    | 'FinancialAnalysisEngine' object has no attribute '_sort_only_points'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 38, in analyse
    commendable, improvement = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 159, in _generate_feedbacks
    commendable = self._generate_commendable_points(pfm, comm_names)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 195, in _generate_commendable_points
    return self._sort_only_points(pts, pfm)
AttributeError: 'FinancialAnalysisEngine' object has no attribute '_sort_only_points'. Did you mean: '_sort_points'?
2025-07-17 12:41:59 | ERROR    | 'FinancialAnalysisEngine' object has no attribute '_sort_only_points'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 38, in analyse
    commendable, improvement = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 159, in _generate_feedbacks
    commendable = self._generate_commendable_points(pfm, comm_names)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 195, in _generate_commendable_points
    return self._sort_only_points(pts, pfm)
AttributeError: 'FinancialAnalysisEngine' object has no attribute '_sort_only_points'. Did you mean: '_sort_points'?
2025-07-17 12:43:18 | INFO     | ----- New Request Received -----
2025-07-17 12:43:18 | INFO     | Request is valid.
2025-07-17 12:43:18 | INFO     | Running rule based static analytics.
2025-07-17 12:43:18 | INFO     | Derived metrics computation complete.
2025-07-17 12:43:18 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:43:21 | INFO     | Received weights from LLM successfully.
2025-07-17 12:43:21 | INFO     | Weights assigned successfully.
2025-07-17 12:43:21 | ERROR    | FinancialAnalysisEngine._sort_points() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 38, in analyse
    commendable, improvement = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 159, in _generate_feedbacks
    commendable = self._generate_commendable_points(pfm, comm_names)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 195, in _generate_commendable_points
    return self._sort_points(pts, pfm)
TypeError: FinancialAnalysisEngine._sort_points() takes 2 positional arguments but 3 were given
2025-07-17 12:43:21 | ERROR    | FinancialAnalysisEngine._sort_points() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 38, in analyse
    commendable, improvement = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 159, in _generate_feedbacks
    commendable = self._generate_commendable_points(pfm, comm_names)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 195, in _generate_commendable_points
    return self._sort_points(pts, pfm)
TypeError: FinancialAnalysisEngine._sort_points() takes 2 positional arguments but 3 were given
2025-07-17 12:44:06 | INFO     | ----- New Request Received -----
2025-07-17 12:44:06 | INFO     | Request is valid.
2025-07-17 12:44:06 | INFO     | Running rule based static analytics.
2025-07-17 12:44:06 | INFO     | Derived metrics computation complete.
2025-07-17 12:44:06 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:44:09 | INFO     | Received weights from LLM successfully.
2025-07-17 12:44:09 | INFO     | Weights assigned successfully.
2025-07-17 12:44:09 | ERROR    | 'NoneType' object has no attribute 'personal_data'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 38, in analyse
    commendable, improvement = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 159, in _generate_feedbacks
    commendable = self._generate_commendable_points(pfm, comm_names)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 195, in _generate_commendable_points
    return self._sort_points(pts)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 296, in _sort_points
    age = self.user_profile.personal_data.age
AttributeError: 'NoneType' object has no attribute 'personal_data'
2025-07-17 12:44:09 | ERROR    | 'NoneType' object has no attribute 'personal_data'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 38, in analyse
    commendable, improvement = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 159, in _generate_feedbacks
    commendable = self._generate_commendable_points(pfm, comm_names)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 195, in _generate_commendable_points
    return self._sort_points(pts)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 296, in _sort_points
    age = self.user_profile.personal_data.age
AttributeError: 'NoneType' object has no attribute 'personal_data'
2025-07-17 12:53:35 | INFO     | ----- New Request Received -----
2025-07-17 12:53:35 | INFO     | Request is valid.
2025-07-17 12:53:35 | INFO     | Running rule based static analytics.
2025-07-17 12:53:35 | INFO     | Derived metrics computation complete.
2025-07-17 12:53:35 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:53:38 | INFO     | Received weights from LLM successfully.
2025-07-17 12:53:38 | INFO     | Weights assigned successfully.
2025-07-17 12:53:38 | ERROR    | FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 36, in analyse
    commendable_points, improvement_points = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 181, in _generate_feedbacks
    good_points: List[CommendablePoint] = self._generate_commendable_points(derived_metrics, good_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 214, in _generate_commendable_points
    feedback = self._create_commend_point(metric_data)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 224, in _create_commend_point
    formatted = self._get_formatted_commend_point(metric, min_b, max_b)
TypeError: FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
2025-07-17 12:53:38 | ERROR    | FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 69, in assemble_report_data_rule_based
    report_data = FinancialAnalysisEngine().analyse(user_profile, derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 36, in analyse
    commendable_points, improvement_points = self._generate_feedbacks(user_profile, pfm)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 181, in _generate_feedbacks
    good_points: List[CommendablePoint] = self._generate_commendable_points(derived_metrics, good_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 214, in _generate_commendable_points
    feedback = self._create_commend_point(metric_data)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 224, in _create_commend_point
    formatted = self._get_formatted_commend_point(metric, min_b, max_b)
TypeError: FinancialAnalysisEngine._get_formatted_commend_point() takes 2 positional arguments but 4 were given
2025-07-17 12:54:10 | INFO     | ----- New Request Received -----
2025-07-17 12:54:10 | INFO     | Request is valid.
2025-07-17 12:54:10 | INFO     | Running rule based static analytics.
2025-07-17 12:54:10 | INFO     | Derived metrics computation complete.
2025-07-17 12:54:10 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:54:13 | INFO     | Received weights from LLM successfully.
2025-07-17 12:54:13 | INFO     | Weights assigned successfully.
2025-07-17 12:54:13 | INFO     | Financial Analysis Successful.
2025-07-17 12:54:13 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:54:13 | ERROR    | Missing variable for prompt template: 'user_profile'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 150, in format_any_prompt_template
    return template.format(**kwargs)
KeyError: 'user_profile'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 76, in assemble_report_data_rule_based
    review_data, summary_data = await asyncio.gather(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 124, in generate_report_part
    user_message = self.format_any_prompt_template(user_msg, **kwargs)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 152, in format_any_prompt_template
    raise ValueError(f"Missing variable for prompt template: {e}")
ValueError: Missing variable for prompt template: 'user_profile'
2025-07-17 12:54:13 | ERROR    | Missing variable for prompt template: 'user_profile'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 150, in format_any_prompt_template
    return template.format(**kwargs)
KeyError: 'user_profile'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 28, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 21, in personal_finance_health_analyzer
    report_data = await assemble_report_data_rule_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/generate_static_report.py", line 76, in assemble_report_data_rule_based
    review_data, summary_data = await asyncio.gather(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 124, in generate_report_part
    user_message = self.format_any_prompt_template(user_msg, **kwargs)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 152, in format_any_prompt_template
    raise ValueError(f"Missing variable for prompt template: {e}")
ValueError: Missing variable for prompt template: 'user_profile'
2025-07-17 12:55:54 | INFO     | ----- New Request Received -----
2025-07-17 12:55:54 | INFO     | Request is valid.
2025-07-17 12:55:54 | INFO     | Running rule based static analytics.
2025-07-17 12:55:54 | INFO     | Derived metrics computation complete.
2025-07-17 12:55:54 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:55:57 | INFO     | Received weights from LLM successfully.
2025-07-17 12:55:57 | INFO     | Weights assigned successfully.
2025-07-17 12:55:57 | INFO     | Financial Analysis Successful.
2025-07-17 12:55:57 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:55:57 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 12:56:00 | INFO     | Received review, summary from LLM successfully.
2025-07-17 12:56:00 | INFO     | Appended glossary data to report.
2025-07-17 12:56:00 | INFO     | Received rule based report data.
2025-07-17 12:56:00 | INFO     | Total Test Runtime:  5.959 s.
2025-07-17 12:56:00 | INFO     | Peak memory usage: 7.901 MB
2025-07-17 12:56:00 | INFO     | ------------------------------------------
2025-07-17 13:00:59 | INFO     | ----- New Request Received -----
2025-07-17 13:00:59 | INFO     | Request is valid.
2025-07-17 13:00:59 | INFO     | Running rule based static analytics.
2025-07-17 13:00:59 | INFO     | Derived metrics computation complete.
2025-07-17 13:00:59 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:01:02 | INFO     | Received weights from LLM successfully.
2025-07-17 13:01:02 | INFO     | Weights assigned successfully.
2025-07-17 13:01:02 | INFO     | Financial Analysis Successful.
2025-07-17 13:01:02 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:01:02 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:01:04 | INFO     | Received review, summary from LLM successfully.
2025-07-17 13:01:04 | INFO     | Appended glossary data to report.
2025-07-17 13:01:04 | INFO     | Received rule based report data.
2025-07-17 13:01:04 | INFO     | Total Test Runtime:  5.204 s.
2025-07-17 13:01:04 | INFO     | Peak memory usage: 7.930 MB
2025-07-17 13:01:04 | INFO     | ------------------------------------------
2025-07-17 13:04:44 | INFO     | ----- New Request Received -----
2025-07-17 13:04:44 | INFO     | Request is valid.
2025-07-17 13:04:44 | INFO     | Running rule based static analytics.
2025-07-17 13:04:44 | INFO     | Derived metrics computation complete.
2025-07-17 13:04:44 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:04:46 | INFO     | Received weights from LLM successfully.
2025-07-17 13:04:46 | INFO     | Weights assigned successfully.
2025-07-17 13:04:46 | INFO     | Financial Analysis Successful.
2025-07-17 13:04:46 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:04:46 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:04:49 | INFO     | Received review, summary from LLM successfully.
2025-07-17 13:04:49 | INFO     | Appended glossary data to report.
2025-07-17 13:04:49 | INFO     | Received rule based report data.
2025-07-17 13:04:49 | INFO     | Total Test Runtime:  4.924 s.
2025-07-17 13:04:49 | INFO     | Peak memory usage: 7.903 MB
2025-07-17 13:04:49 | INFO     | ------------------------------------------
2025-07-17 13:06:08 | INFO     | ----- New Request Received -----
2025-07-17 13:06:08 | INFO     | Request is valid.
2025-07-17 13:06:08 | INFO     | Running rule based static analytics.
2025-07-17 13:06:08 | INFO     | Derived metrics computation complete.
2025-07-17 13:06:08 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:06:11 | INFO     | Received weights from LLM successfully.
2025-07-17 13:06:11 | INFO     | Weights assigned successfully.
2025-07-17 13:06:11 | INFO     | Financial Analysis Successful.
2025-07-17 13:06:11 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:06:11 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:06:13 | INFO     | Received review, summary from LLM successfully.
2025-07-17 13:06:13 | INFO     | Appended glossary data to report.
2025-07-17 13:06:13 | INFO     | Received rule based report data.
2025-07-17 13:06:13 | INFO     | Total Test Runtime:  5.026 s.
2025-07-17 13:06:13 | INFO     | Peak memory usage: 7.899 MB
2025-07-17 13:06:13 | INFO     | ------------------------------------------
2025-07-17 13:09:59 | INFO     | ----- New Request Received -----
2025-07-17 13:09:59 | INFO     | Request is valid.
2025-07-17 13:09:59 | INFO     | Running rule based static analytics.
2025-07-17 13:09:59 | INFO     | Derived metrics computation complete.
2025-07-17 13:09:59 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:10:02 | INFO     | Received weights from LLM successfully.
2025-07-17 13:10:02 | INFO     | Weights assigned successfully.
2025-07-17 13:10:02 | INFO     | Financial Analysis Successful.
2025-07-17 13:10:02 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:10:02 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:10:05 | INFO     | Received review, summary from LLM successfully.
2025-07-17 13:10:05 | INFO     | Appended glossary data to report.
2025-07-17 13:10:05 | INFO     | Received rule based report data.
2025-07-17 13:10:05 | INFO     | Total Test Runtime:  6.567 s.
2025-07-17 13:10:05 | INFO     | Peak memory usage: 7.903 MB
2025-07-17 13:10:05 | INFO     | ------------------------------------------
2025-07-17 13:21:14 | INFO     | ----- New Request Received -----
2025-07-17 13:21:14 | INFO     | Request is valid.
2025-07-17 13:21:14 | INFO     | Running rule based static analytics.
2025-07-17 13:21:14 | INFO     | Derived metrics computation complete.
2025-07-17 13:21:14 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:21:17 | INFO     | Received weights from LLM successfully.
2025-07-17 13:21:17 | INFO     | Weights assigned successfully.
2025-07-17 13:21:17 | INFO     | Financial Analysis Successful.
2025-07-17 13:21:17 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:21:17 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:21:19 | ERROR    | Together.ai response failed for 'LG_Exaone_3.5_Instruct', switching to 'Llama_3.3_Instruct_Turbo'.
2025-07-17 13:21:19 | ERROR    | 
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/utils/response_parsing.py", line 61, in parse_llm_output
    parsed = json.loads(clean)
  File "/usr/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 108, in get_model_response
    return await self._get_llm_response(system_message, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 77, in _get_llm_response
    parsed = parse_llm_output(raw_output)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/utils/response_parsing.py", line 64, in parse_llm_output
    raise InvalidJsonFormatError()
core.exceptions.InvalidJsonFormatError
2025-07-17 13:21:19 | INFO     | Attempting response with model: Llama_3.3_Instruct_Turbo.
2025-07-17 13:21:19 | ERROR    | Together.ai response failed for 'Llama_3.3_Instruct_Turbo', switching to 'Llama_3.3_Instruct_Turbo'.
2025-07-17 13:21:19 | ERROR    | 
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/utils/response_parsing.py", line 61, in parse_llm_output
    parsed = json.loads(clean)
  File "/usr/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 108, in get_model_response
    return await self._get_llm_response(system_message, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 77, in _get_llm_response
    parsed = parse_llm_output(raw_output)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/utils/response_parsing.py", line 64, in parse_llm_output
    raise InvalidJsonFormatError()
core.exceptions.InvalidJsonFormatError
2025-07-17 13:21:19 | INFO     | Attempting response with model: Llama_3.3_Instruct_Turbo.
2025-07-17 13:22:11 | INFO     | ----- New Request Received -----
2025-07-17 13:22:11 | INFO     | Request is valid.
2025-07-17 13:22:11 | INFO     | Running rule based static analytics.
2025-07-17 13:22:11 | INFO     | Derived metrics computation complete.
2025-07-17 13:22:11 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:22:13 | INFO     | Received weights from LLM successfully.
2025-07-17 13:22:13 | INFO     | Weights assigned successfully.
2025-07-17 13:22:13 | INFO     | Financial Analysis Successful.
2025-07-17 13:22:13 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:22:13 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:22:16 | INFO     | Received review, summary from LLM successfully.
2025-07-17 13:22:16 | INFO     | Appended glossary data to report.
2025-07-17 13:22:16 | INFO     | Received rule based report data.
2025-07-17 13:22:16 | INFO     | Total Test Runtime:  5.274 s.
2025-07-17 13:22:16 | INFO     | Peak memory usage: 7.902 MB
2025-07-17 13:22:16 | INFO     | ------------------------------------------
2025-07-17 13:28:56 | INFO     | ----- New Request Received -----
2025-07-17 13:28:56 | INFO     | Request is valid.
2025-07-17 13:28:56 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:28:56 | INFO     | Derived metrics computed.
2025-07-17 13:28:56 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:28:57 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:28:57 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:28:57 | ERROR    | Missing variable for prompt template: 'user_profile'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 152, in format_any_prompt_template
    return template.format(**kwargs)
KeyError: 'user_profile'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 49, in assemble_report_data_llm_based
    weight_resp, review_resp, comm_resp, improv_resp = await asyncio.gather(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 126, in generate_report_part
    user_message = self.format_any_prompt_template(user_msg, **kwargs)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 154, in format_any_prompt_template
    raise ValueError(f"Missing variable for prompt template: {e}")
ValueError: Missing variable for prompt template: 'user_profile'
2025-07-17 13:29:50 | INFO     | ----- New Request Received -----
2025-07-17 13:29:50 | INFO     | Request is valid.
2025-07-17 13:29:50 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:29:50 | INFO     | Derived metrics computed.
2025-07-17 13:29:50 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:29:50 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:29:50 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:29:50 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:30:11 | INFO     | LLM returned weights, review, commendables, improvements.
2025-07-17 13:30:11 | INFO     | Weights applied to metrics.
2025-07-17 13:30:11 | ERROR    | the JSON object must be str, bytes or bytearray, not dict
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 76, in assemble_report_data_llm_based
    comm_json = json.loads(comm_resp.content)
  File "/usr/lib/python3.10/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict
2025-07-17 13:31:32 | INFO     | ----- New Request Received -----
2025-07-17 13:31:32 | INFO     | Request is valid.
2025-07-17 13:31:32 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:31:32 | INFO     | Derived metrics computed.
2025-07-17 13:31:32 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:31:32 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:31:32 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:31:32 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:31:59 | INFO     | LLM returned weights, review, commendables, improvements.
2025-07-17 13:31:59 | INFO     | Weights applied to metrics.
2025-07-17 13:31:59 | ERROR    | Failed to parse commendable areas JSON
2025-07-17 13:31:59 | ERROR    | the JSON object must be str, bytes or bytearray, not dict
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 76, in assemble_report_data_llm_based
    comm_json = json.loads(comm_resp.content)
  File "/usr/lib/python3.10/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict
2025-07-17 13:31:59 | ERROR    | Failed to parse improvement areas JSON
2025-07-17 13:31:59 | ERROR    | the JSON object must be str, bytes or bytearray, not dict
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 83, in assemble_report_data_llm_based
    improv_json = json.loads(improv_resp.content)
  File "/usr/lib/python3.10/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict
2025-07-17 13:31:59 | ERROR    | local variable 'improv_json' referenced before assignment
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 95, in assemble_report_data_llm_based
    for item in improv_json.get("areas_for_improvement", [])
UnboundLocalError: local variable 'improv_json' referenced before assignment
2025-07-17 13:40:03 | INFO     | ----- New Request Received -----
2025-07-17 13:40:03 | INFO     | Request is valid.
2025-07-17 13:40:03 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:40:03 | INFO     | Derived metrics computation complete.
2025-07-17 13:40:03 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:40:04 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:40:04 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:40:04 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:40:29 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 13:40:29 | INFO     | Weights post processed.
2025-07-17 13:40:29 | INFO     | Weights assigned successfully.
2025-07-17 13:40:29 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:40:31 | INFO     | Received summary data from LLM successfully.
2025-07-17 13:40:31 | ERROR    | unsupported operand type(s) for +=: 'int' and 'NoneType'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 119, in assemble_report_data_llm_based
    metrics_table = FAE().get_metrics_scoring_table(derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 434, in get_metrics_scoring_table
    total_score += metric.assigned_score
TypeError: unsupported operand type(s) for +=: 'int' and 'NoneType'
2025-07-17 13:42:07 | INFO     | ----- New Request Received -----
2025-07-17 13:42:07 | INFO     | Request is valid.
2025-07-17 13:42:07 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:42:07 | INFO     | Derived metrics computation complete.
2025-07-17 13:42:07 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:42:08 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:42:08 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:42:08 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:42:33 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 13:42:33 | INFO     | Weights post processed.
2025-07-17 13:42:33 | INFO     | Weights assigned successfully.
2025-07-17 13:42:33 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:42:36 | INFO     | Received summary data from LLM successfully.
2025-07-17 13:42:36 | WARNING  | Failed to generate Metrics Scoring Table.
2025-07-17 13:42:36 | ERROR    | unsupported operand type(s) for +=: 'int' and 'NoneType'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 120, in assemble_report_data_llm_based
    metrics_table = FAE().get_metrics_scoring_table(derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 434, in get_metrics_scoring_table
    total_score += metric.assigned_score
TypeError: unsupported operand type(s) for +=: 'int' and 'NoneType'
2025-07-17 13:42:36 | INFO     | Appended glossary data to report.
2025-07-17 13:42:36 | ERROR    | local variable 'metrics_table' referenced before assignment
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 133, in assemble_report_data_llm_based
    metrics_scoring_table=metrics_table
UnboundLocalError: local variable 'metrics_table' referenced before assignment
2025-07-17 13:44:42 | INFO     | ----- New Request Received -----
2025-07-17 13:44:42 | INFO     | Request is valid.
2025-07-17 13:44:42 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:44:42 | INFO     | Derived metrics computation complete.
2025-07-17 13:44:42 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:44:43 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:44:43 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:44:43 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:45:18 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 13:45:18 | INFO     | Weights post processed.
2025-07-17 13:45:18 | INFO     | Weights assigned successfully.
2025-07-17 13:45:18 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:45:21 | INFO     | Received summary data from LLM successfully.
2025-07-17 13:45:21 | WARNING  | Failed to generate Metrics Scoring Table.
2025-07-17 13:45:21 | ERROR    | unsupported operand type(s) for +=: 'int' and 'NoneType'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 121, in assemble_report_data_llm_based
    metrics_table = FAE().get_metrics_scoring_table(derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 434, in get_metrics_scoring_table
    total_score += metric.assigned_score
TypeError: unsupported operand type(s) for +=: 'int' and 'NoneType'
2025-07-17 13:45:21 | ERROR    | 4 validation errors for ReportData
profile_review
  Input should be a valid string [type=string_type, input_value={'profile_review': 'The u...e financial stability.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
commendable_areas
  Input should be a valid list [type=list_type, input_value={'commendable_areas': [{'...retirement adequacy."}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
areas_for_improvement
  Input should be a valid list [type=list_type, input_value={'areas_for_improvement':... adequacy benchmark.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
summary
  Input should be a valid string [type=string_type, input_value={'summary': 'Your financi...l financial stability.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 127, in assemble_report_data_llm_based
    report_data = ReportData(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 4 validation errors for ReportData
profile_review
  Input should be a valid string [type=string_type, input_value={'profile_review': 'The u...e financial stability.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
commendable_areas
  Input should be a valid list [type=list_type, input_value={'commendable_areas': [{'...retirement adequacy."}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
areas_for_improvement
  Input should be a valid list [type=list_type, input_value={'areas_for_improvement':... adequacy benchmark.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
summary
  Input should be a valid string [type=string_type, input_value={'summary': 'Your financi...l financial stability.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-07-17 13:46:01 | INFO     | ----- New Request Received -----
2025-07-17 13:46:01 | INFO     | Request is valid.
2025-07-17 13:46:01 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:46:01 | INFO     | Derived metrics computation complete.
2025-07-17 13:46:01 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:46:01 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:46:01 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:46:01 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:46:32 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 13:46:32 | INFO     | Weights post processed.
2025-07-17 13:46:32 | INFO     | Weights assigned successfully.
2025-07-17 13:46:32 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:46:34 | INFO     | Received summary data from LLM successfully.
2025-07-17 13:46:34 | WARNING  | Failed to generate Metrics Scoring Table.
2025-07-17 13:46:34 | ERROR    | unsupported operand type(s) for +=: 'int' and 'NoneType'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 121, in assemble_report_data_llm_based
    metrics_table = FAE().get_metrics_scoring_table(derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 434, in get_metrics_scoring_table
    total_score += metric.assigned_score
TypeError: unsupported operand type(s) for +=: 'int' and 'NoneType'
2025-07-17 13:46:34 | ERROR    | 2 validation errors for ReportData
commendable_areas
  Input should be a valid list [type=list_type, input_value={'commendable_areas': [{'...et retirement goals.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
areas_for_improvement
  Input should be a valid list [type=list_type, input_value={'areas_for_improvement':...financial stability.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 127, in assemble_report_data_llm_based
    report_data = ReportData(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for ReportData
commendable_areas
  Input should be a valid list [type=list_type, input_value={'commendable_areas': [{'...et retirement goals.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
areas_for_improvement
  Input should be a valid list [type=list_type, input_value={'areas_for_improvement':...financial stability.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
2025-07-17 13:48:13 | INFO     | ----- New Request Received -----
2025-07-17 13:48:13 | INFO     | Request is valid.
2025-07-17 13:48:13 | INFO     | Running LLM based advanced analytics.
2025-07-17 13:48:13 | INFO     | Derived metrics computation complete.
2025-07-17 13:48:13 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:48:13 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:48:13 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:48:13 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 13:48:38 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 13:48:38 | INFO     | Weights post processed.
2025-07-17 13:48:38 | INFO     | Weights assigned successfully.
2025-07-17 13:48:38 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 13:48:41 | INFO     | Received summary data from LLM successfully.
2025-07-17 13:48:41 | WARNING  | Failed to generate Metrics Scoring Table.
2025-07-17 13:48:41 | ERROR    | unsupported operand type(s) for +=: 'int' and 'NoneType'
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 130, in assemble_report_data_llm_based
    metrics_table = FAE().get_metrics_scoring_table(derived_metrics)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/financial_analysis_engine.py", line 434, in get_metrics_scoring_table
    total_score += metric.assigned_score
TypeError: unsupported operand type(s) for +=: 'int' and 'NoneType'
2025-07-17 13:48:41 | INFO     | Received LLM based report data.
2025-07-17 13:48:41 | INFO     | Total Test Runtime:  27.758 s.
2025-07-17 13:48:41 | INFO     | Peak memory usage: 8.032 MB
2025-07-17 13:48:41 | INFO     | ------------------------------------------
2025-07-17 16:38:29 | INFO     | ----- New Request Received -----
2025-07-17 16:38:29 | INFO     | Request is valid.
2025-07-17 16:38:29 | INFO     | Running LLM based advanced analytics.
2025-07-17 16:38:29 | INFO     | Derived metrics computation complete.
2025-07-17 16:38:29 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 16:38:30 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:38:30 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:38:30 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:38:52 | ERROR    | Together.ai response failed for 'LG_Exaone_3.5_Instruct', switching to 'Llama_3.3_Instruct_Turbo'.
2025-07-17 16:38:52 | ERROR    | Connection error.
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_exceptions.py", line 10, in map_exceptions
    yield
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 100, in connect_tcp
    sock = socket.create_connection(
  File "/usr/lib/python3.10/socket.py", line 836, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
  File "/usr/lib/python3.10/socket.py", line 967, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -3] Temporary failure in name resolution

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_transports/default.py", line 60, in map_httpcore_exceptions
    yield
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_transports/default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 262, in handle_request
    raise exc
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 245, in handle_request
    response = connection.handle_request(request)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 92, in handle_request
    raise exc
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 69, in handle_request
    stream = self._connect(request)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 117, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 99, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -3] Temporary failure in name resolution

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/openai/_base_client.py", line 979, in request
    response = self._client.send(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_client.py", line 901, in send
    response = self._send_handling_auth(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_client.py", line 929, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_client.py", line 966, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_client.py", line 1002, in _send_single_request
    response = transport.handle_request(request)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_transports/default.py", line 217, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/httpx/_transports/default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -3] Temporary failure in name resolution

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 108, in get_model_response
    return await self._get_llm_response(system_message, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 63, in _get_llm_response
    response = await asyncio.to_thread(
  File "/usr/lib/python3.10/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/usr/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py", line 1087, in create
    return self._post(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/openai/_base_client.py", line 1256, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/env310/lib/python3.10/site-packages/openai/_base_client.py", line 1011, in request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.
2025-07-17 16:38:52 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 53, in assemble_report_data_llm_based
    weight_data, review_data, comm_data, improv_data = await asyncio.gather(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 132, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 122, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 16:38:52 | ERROR    | [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
Traceback (most recent call last):
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/main.py", line 29, in personal_finance_health_analysis
    report_data = await personal_finance_health_analyzer(req.data, req.mode)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/personal_finance_health_analyzer.py", line 17, in personal_finance_health_analyzer
    report_data = await assemble_report_data_llm_based(user_profile)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/core/llm_based_analysis.py", line 53, in assemble_report_data_llm_based
    weight_data, review_data, comm_data, improv_data = await asyncio.gather(
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 132, in generate_weights_using_llm
    return await self.get_model_response(WEIGHT_GEN_SYS_MSG, user_message, advanced)
  File "/home/aryan-bodhe/Desktop/Rainbow Money/PFHC/apis/TogetherLLM.py", line 122, in get_model_response
    raise LLMResponseFailedError(self.provider_name)
core.exceptions.LLMResponseFailedError: [31m[ERROR] Failed to get valid response from 'Together.ai'.[39m
2025-07-17 16:48:06 | INFO     | ----- New Request Received -----
2025-07-17 16:48:06 | INFO     | Request is valid.
2025-07-17 16:48:06 | INFO     | Running LLM based advanced analytics.
2025-07-17 16:48:06 | INFO     | Derived metrics computation complete.
2025-07-17 16:48:06 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 16:48:07 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:48:07 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:48:07 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:48:34 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 16:48:34 | INFO     | Weights post processed.
2025-07-17 16:48:34 | INFO     | Weights assigned successfully.
2025-07-17 16:48:34 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 16:48:36 | INFO     | Received summary data from LLM successfully.
2025-07-17 16:48:36 | WARNING  | Failed to generate Metrics Scoring Table.
2025-07-17 16:48:36 | INFO     | Received LLM based report data.
2025-07-17 16:48:36 | INFO     | Total Test Runtime:  30.250 s.
2025-07-17 16:48:36 | INFO     | Peak memory usage: 8.114 MB
2025-07-17 16:48:36 | INFO     | ------------------------------------------
2025-07-17 16:52:47 | INFO     | ----- New Request Received -----
2025-07-17 16:52:47 | INFO     | Request is valid.
2025-07-17 16:52:47 | INFO     | Running LLM based advanced analytics.
2025-07-17 16:52:47 | INFO     | Derived metrics computation complete.
2025-07-17 16:52:47 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 16:52:48 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:52:48 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:52:48 | INFO     | Attempting response with model: DeepSeek_R1_Distilled.
2025-07-17 16:53:17 | INFO     | Received weights, review, commendable areas, improvement areas from LLM successfully.
2025-07-17 16:53:17 | INFO     | Weights post processed.
2025-07-17 16:53:17 | INFO     | Weights assigned successfully.
2025-07-17 16:53:17 | INFO     | Attempting response with model: LG_Exaone_3.5_Instruct.
2025-07-17 16:53:19 | INFO     | Received summary data from LLM successfully.
2025-07-17 16:53:19 | WARNING  | Failed to generate Metrics Scoring Table.
2025-07-17 16:53:19 | INFO     | Received LLM based report data.
2025-07-17 16:53:19 | INFO     | Total Test Runtime:  32.296 s.
2025-07-17 16:53:19 | INFO     | Peak memory usage: 8.068 MB
2025-07-17 16:53:19 | INFO     | ------------------------------------------
